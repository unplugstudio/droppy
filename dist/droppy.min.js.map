{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///droppy.min.js","webpack:///webpack/bootstrap 9770449f79e6319c6174","webpack:///./src/index.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","_toConsumableArray","arr","Array","isArray","arr2","length","from","_classCallCheck","instance","Constructor","TypeError","dispatchEvent","target","detail","window","CustomEvent","event","bubbles","cancelable","init","showClass","arguments","undefined","SHOW_CLASS","elements","document","querySelectorAll","concat","forEach","element","Droppy","_initialiseProps","parent","parentNode","menu","querySelector","relatedTarget","isOpen","addEventListener","clickHandler","_this","keyHandler","isValidKey","key","match","isValidNode","nodeName","preventDefault","hasOpenSubmenus","hide","focus","items","index","indexOf","button","toggle","targetIsToggle","dataset","targetIsInput","contains","show","classList","add","setAttribute","remove","removeEventListener"],"mappings":"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","file":"droppy.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"droppy\"] = factory();\n\telse\n\t\troot[\"droppy\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"droppy\"] = factory();\n\telse\n\t\troot[\"droppy\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (immutable) */ __webpack_exports__[\"init\"] = init;\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SHOW_EVENT = 'show.droppy';\nvar SHOWN_EVENT = 'shown.droppy';\nvar HIDE_EVENT = 'hide.droppy';\nvar HIDDEN_EVENT = 'hidden.droppy';\n\nvar SHOW_CLASS = 'show';\n\n/* Instantiate and dispatch a custom event\n * @private\n * @param  {String} name Name of the custom event\n * @param  {Element} target DOM element that will be available as event.target\n * @param  {Object} detail Object that will be available as event.detail\n */\nfunction dispatchEvent(name, target, detail) {\n\t// IE doesn't support CustomEvent\n\tif (typeof window.CustomEvent !== 'function') return;\n\tvar event = new CustomEvent(name, {\n\t\tdetail: detail,\n\t\tbubbles: true,\n\t\tcancelable: true\n\t});\n\ttarget.dispatchEvent(event);\n}\n\nvar Droppy =\n/**\n * Initialize the Droppy instance.\n * Will attach a `Droppy` property to the `element`.\n * @param  {HTMLElement} element Node that will act as dropdown toggle\n * @param  {String} [showClass]  Classname assigned to the parent on show\n * @return {Object}              The new Droppy instance\n */\nfunction Droppy(element) {\n\tvar showClass = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : SHOW_CLASS;\n\n\t_classCallCheck(this, Droppy);\n\n\t_initialiseProps.call(this);\n\n\tthis.element = element;\n\tthis.showClass = showClass;\n\tthis.parent = element.parentNode;\n\tthis.menu = this.parent.querySelector('[role=\"menu\"]');\n\tthis.relatedTarget = null;\n\tthis.isOpen = false;\n\n\tif (!('Droppy' in element)) {\n\t\tdocument.addEventListener('click', this.clickHandler);\n\t}\n\telement.Droppy = this;\n\treturn this;\n}\n\n/**\n * Handle keyboard input for enhanced dropdown navigation.\n * Allows using 'Esc' to close the dropdown, and the up/down arrow keys to move.\n * @param  {KeyboardEvent} event\n */\n\n\n/**\n * Handles clicks on the entire document to open / close the dropdowns.\n * Clicks outside the dropdown will close it.\n * Clicks on the dropdown toggle element will toggle it.\n * @param  {MouseEvent} event\n */\n\n\n/**\n * Show the dropdown menu.\n * Toggles classNames, dispatches events, and sets up keypress handlers.\n */\n\n\n/**\n * Hide the dropdown menu.\n * Toggles classNames, dispatches events, and removes keypress handlers.\n */\n\n\n/**\n * Toggle the dropdown menu.\n * Will decide if the menu should be shown or hidden depending on current state.\n */\n;\n\n/**\n * Initialize dropdowns on the document\n * @param  {String} [showClass]   Passed directly to the Droppy constructor\n * @see Droppy\n */\n\n\nvar _initialiseProps = function _initialiseProps() {\n\tvar _this = this;\n\n\tthis.keyHandler = function (event) {\n\t\t// Define a list of keys and nodes we want to listen to\n\t\tvar isValidKey = event.key.match('Escape|ArrowUp|ArrowDown');\n\t\tvar isValidNode = !event.target.nodeName.match('INPUT|TEXTAREA');\n\t\tif (!(isValidKey && isValidNode)) return;\n\n\t\tevent.preventDefault();\n\n\t\t// Esc key (closes dropdown)\n\t\tvar hasOpenSubmenus = _this.menu.querySelector('[aria-expanded=\"true\"]');\n\t\tif (event.key === 'Escape' && _this.isOpen && !hasOpenSubmenus) {\n\t\t\t_this.relatedTarget = null;\n\t\t\t_this.hide();\n\t\t\t_this.element.focus();\n\t\t\treturn;\n\t\t}\n\n\t\t// Up / down arrows (behaves as Shift + TAB / TAB)\n\t\tvar items = [].concat(_toConsumableArray(_this.menu.querySelectorAll('a, button, input, textarea')));\n\t\tif (!items.length) return;\n\t\tvar index = items.indexOf(event.target);\n\n\t\tif (event.key === 'ArrowUp' && index > 0) index--;\n\t\tif (event.key === 'ArrowDown' && index < items.length - 1) index++;\n\t\tif (index < 0) index = 0;\n\t\titems[index].focus();\n\t};\n\n\tthis.clickHandler = function (event) {\n\t\tif (event.button !== 0) return; // Bail on anything that isn't a left-click\n\n\t\tvar element = _this.element,\n\t\t    isOpen = _this.isOpen,\n\t\t    menu = _this.menu;\n\n\t\tvar target = event.target;\n\n\t\t// Handle clicks inside toggle element\n\t\tif (target === element) {\n\t\t\tevent.preventDefault();\n\t\t\t_this.relatedTarget = element;\n\t\t\t_this.toggle();\n\n\t\t\t// Handle clicks elsewhere in the page when the dropdown is open\n\t\t\t// (except when clicking nested dropdowns or form inputs)\n\t\t} else if (isOpen) {\n\t\t\tvar targetIsToggle = target.dataset.toggle === 'dropdown';\n\t\t\tvar targetIsInput = target.nodeName.match('INPUT|TEXTAREA');\n\t\t\tif ((targetIsToggle || targetIsInput) && menu.contains(target)) return;\n\n\t\t\t_this.relatedTarget = null;\n\t\t\t_this.hide();\n\t\t}\n\t};\n\n\tthis.show = function () {\n\t\tvar keyHandler = _this.keyHandler,\n\t\t    menu = _this.menu,\n\t\t    showClass = _this.showClass,\n\t\t    parent = _this.parent,\n\t\t    relatedTarget = _this.relatedTarget;\n\n\t\tdispatchEvent(SHOW_EVENT, parent, { relatedTarget: relatedTarget });\n\t\tparent.classList.add(showClass);\n\t\tmenu.setAttribute('aria-expanded', true);\n\t\tdispatchEvent(SHOWN_EVENT, parent, { relatedTarget: relatedTarget });\n\t\tdocument.addEventListener('keydown', keyHandler);\n\t\t_this.isOpen = true;\n\t};\n\n\tthis.hide = function () {\n\t\tvar keyHandler = _this.keyHandler,\n\t\t    menu = _this.menu,\n\t\t    showClass = _this.showClass,\n\t\t    parent = _this.parent,\n\t\t    relatedTarget = _this.relatedTarget;\n\n\t\tdispatchEvent(HIDE_EVENT, parent, { relatedTarget: relatedTarget });\n\t\tparent.classList.remove(showClass);\n\t\tmenu.setAttribute('aria-expanded', false);\n\t\tdispatchEvent(HIDDEN_EVENT, parent, { relatedTarget: relatedTarget });\n\t\tdocument.removeEventListener('keydown', keyHandler);\n\t\t_this.isOpen = false;\n\t};\n\n\tthis.toggle = function () {\n\t\tif (_this.parent.classList.contains(_this.showClass) && _this.isOpen) {\n\t\t\t_this.hide();\n\t\t} else {\n\t\t\t_this.show();\n\t\t}\n\t};\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Droppy);\nfunction init() {\n\tvar showClass = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : SHOW_CLASS;\n\n\tvar elements = document.querySelectorAll('[data-toggle=\"dropdown\"]');\n\t[].concat(_toConsumableArray(elements)).forEach(function (element) {\n\t\treturn new Droppy(element, showClass);\n\t});\n}\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// droppy.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9770449f79e6319c6174","const SHOW_EVENT = 'show.droppy';\nconst SHOWN_EVENT = 'shown.droppy';\nconst HIDE_EVENT = 'hide.droppy';\nconst HIDDEN_EVENT = 'hidden.droppy';\n\nconst SHOW_CLASS = 'show';\n\n/* Instantiate and dispatch a custom event\n * @private\n * @param  {String} name Name of the custom event\n * @param  {Element} target DOM element that will be available as event.target\n * @param  {Object} detail Object that will be available as event.detail\n */\nfunction dispatchEvent(name, target, detail) {\n\t// IE doesn't support CustomEvent\n\tif (typeof window.CustomEvent !== 'function') return;\n\tconst event = new CustomEvent(name, {\n\t\tdetail,\n\t\tbubbles: true,\n\t\tcancelable: true,\n\t});\n\ttarget.dispatchEvent(event);\n}\n\nexport default class Droppy {\n\t/**\n\t * Initialize the Droppy instance.\n\t * Will attach a `Droppy` property to the `element`.\n\t * @param  {HTMLElement} element Node that will act as dropdown toggle\n\t * @param  {String} [showClass]  Classname assigned to the parent on show\n\t * @return {Object}              The new Droppy instance\n\t */\n\tconstructor(element, showClass = SHOW_CLASS) {\n\t\tthis.element = element;\n\t\tthis.showClass = showClass;\n\t\tthis.parent = element.parentNode;\n\t\tthis.menu = this.parent.querySelector('[role=\"menu\"]');\n\t\tthis.relatedTarget = null;\n\t\tthis.isOpen = false;\n\n\t\tif (!('Droppy' in element)) {\n\t\t\tdocument.addEventListener('click', this.clickHandler);\n\t\t}\n\t\telement.Droppy = this;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Handle keyboard input for enhanced dropdown navigation.\n\t * Allows using 'Esc' to close the dropdown, and the up/down arrow keys to move.\n\t * @param  {KeyboardEvent} event\n\t */\n\tkeyHandler = (event) => {\n\t\t// Define a list of keys and nodes we want to listen to\n\t\tconst isValidKey = event.key.match('Escape|ArrowUp|ArrowDown');\n\t\tconst isValidNode = !event.target.nodeName.match('INPUT|TEXTAREA');\n\t\tif (!(isValidKey && isValidNode)) return;\n\n\t\tevent.preventDefault();\n\n\t\t// Esc key (closes dropdown)\n\t\tconst hasOpenSubmenus = this.menu.querySelector('[aria-expanded=\"true\"]');\n\t\tif (event.key === 'Escape' && this.isOpen && !hasOpenSubmenus) {\n\t\t\tthis.relatedTarget = null;\n\t\t\tthis.hide();\n\t\t\tthis.element.focus();\n\t\t\treturn;\n\t\t}\n\n\t\t// Up / down arrows (behaves as Shift + TAB / TAB)\n\t\tconst items = [...this.menu.querySelectorAll('a, button, input, textarea')];\n\t\tif (!items.length) return;\n\t\tlet index = items.indexOf(event.target);\n\n\t\tif (event.key === 'ArrowUp' && index > 0) index--;\n\t\tif (event.key === 'ArrowDown' && index < items.length - 1) index++;\n\t\tif (index < 0) index = 0;\n\t\titems[index].focus();\n\t};\n\n\t/**\n\t * Handles clicks on the entire document to open / close the dropdowns.\n\t * Clicks outside the dropdown will close it.\n\t * Clicks on the dropdown toggle element will toggle it.\n\t * @param  {MouseEvent} event\n\t */\n\tclickHandler = (event) => {\n\t\tif (event.button !== 0) return; // Bail on anything that isn't a left-click\n\n\t\tconst { element, isOpen, menu } = this;\n\t\tconst target = event.target;\n\n\t\t// Handle clicks inside toggle element\n\t\tif (target === element) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.relatedTarget = element;\n\t\t\tthis.toggle();\n\n\t\t// Handle clicks elsewhere in the page when the dropdown is open\n\t\t// (except when clicking nested dropdowns or form inputs)\n\t\t} else if (isOpen) {\n\t\t\tconst targetIsToggle = target.dataset.toggle === 'dropdown';\n\t\t\tconst targetIsInput = target.nodeName.match('INPUT|TEXTAREA');\n\t\t\tif ((targetIsToggle || targetIsInput) && menu.contains(target)) return;\n\n\t\t\tthis.relatedTarget = null;\n\t\t\tthis.hide();\n\t\t}\n\t};\n\n\t/**\n\t * Show the dropdown menu.\n\t * Toggles classNames, dispatches events, and sets up keypress handlers.\n\t */\n\tshow = () => {\n\t\tconst { keyHandler, menu, showClass, parent, relatedTarget } = this;\n\t\tdispatchEvent(SHOW_EVENT, parent, { relatedTarget });\n\t\tparent.classList.add(showClass);\n\t\tmenu.setAttribute('aria-expanded', true);\n\t\tdispatchEvent(SHOWN_EVENT, parent, { relatedTarget });\n\t\tdocument.addEventListener('keydown', keyHandler);\n\t\tthis.isOpen = true;\n\t};\n\n\t/**\n\t * Hide the dropdown menu.\n\t * Toggles classNames, dispatches events, and removes keypress handlers.\n\t */\n\thide = () => {\n\t\tconst { keyHandler, menu, showClass, parent, relatedTarget } = this;\n\t\tdispatchEvent(HIDE_EVENT, parent, { relatedTarget });\n\t\tparent.classList.remove(showClass);\n\t\tmenu.setAttribute('aria-expanded', false);\n\t\tdispatchEvent(HIDDEN_EVENT, parent, { relatedTarget });\n\t\tdocument.removeEventListener('keydown', keyHandler);\n\t\tthis.isOpen = false;\n\t};\n\n\t/**\n\t * Toggle the dropdown menu.\n\t * Will decide if the menu should be shown or hidden depending on current state.\n\t */\n\ttoggle = () => {\n\t\tif (this.parent.classList.contains(this.showClass) && this.isOpen) {\n\t\t\tthis.hide();\n\t\t} else {\n\t\t\tthis.show();\n\t\t}\n\t};\n}\n\n/**\n * Initialize dropdowns on the document\n * @param  {String} [showClass]   Passed directly to the Droppy constructor\n * @see Droppy\n */\nexport function init(showClass = SHOW_CLASS) {\n\tconst elements = document.querySelectorAll('[data-toggle=\"dropdown\"]');\n\t[...elements].forEach(element => new Droppy(element, showClass));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}